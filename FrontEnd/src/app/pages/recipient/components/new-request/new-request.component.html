<!-- Fullscreen blurred backdrop and scrollable -->
<div class="fixed inset-0 z-40 overflow-y-auto backdrop-blur-sm bg-white/30">
  <div class="min-h-screen flex flex-col items-center justify-start py-10 px-4">
    
    <!-- Modal/Form box -->
    <div class="bg-white p-6 rounded shadow-md max-w-2xl w-full relative">
      
      <!-- ❌ Close button -->
      <button 
        class="absolute top-2 right-3 text-red-600 text-2xl font-bold hover:text-red-800"
        (click)="onCloseClick()"
        aria-label="Close form">
        &times;
      </button>

      <!-- Heading -->
      <h2 class="text-2xl font-semibold mb-4">New Blood Request</h2>

      <!-- 📋 Form -->
      <form class="space-y-4">

        <div>
          <label class="block mb-1 font-medium">Name</label>
          <input type="text" class="w-full border rounded p-2" placeholder="Enter name" required />
        </div>

        <div>
          <label class="block mb-1 font-medium">Blood Group</label>
          <select class="w-full border rounded p-2" required>
            <option value="">Select blood group</option>
            <option>A+</option>
            <option>A-</option>
            <option>B+</option>
            <option>B-</option>
            <option>AB+</option>
            <option>AB-</option>
            <option>O+</option>
            <option>O-</option>
          </select>
        </div>

        <div>
          <label class="block mb-1 font-medium">Urgency</label>
          <select class="w-full border rounded p-2" required>
            <option value="">Select urgency</option>
            <option>Low</option>
            <option>Medium</option>
            <option>High</option>
            <option>Critical</option>
          </select>
        </div>

        <div>
          <label class="block mb-1 font-medium">Hospital Name</label>
          <input type="text" class="w-full border rounded p-2" required />
        </div>

        <div>
          <label class="block mb-1 font-medium">Hospital Address</label>
          <input type="text" class="w-full border rounded p-2" required />
        </div>

        <div>
          <label class="block mb-1 font-medium">Contact No.</label>
          <input type="tel" class="w-full border rounded p-2" required />
        </div>

        <div>
          <label class="block mb-1 font-medium">Reason</label>
          <textarea class="w-full border rounded p-2" rows="3" required></textarea>
        </div>

        <button type="submit" class="bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700">
          Submit Request
        </button>
      </form>

      <!-- 🔒 Confirmation Modal -->
      <div *ngIf="showConfirm" class="fixed inset-0 flex items-center justify-center z-50 backdrop-blur-sm bg-white/30">
        <div class="bg-white p-6 rounded-lg shadow-lg max-w-sm w-full border border-gray-200">
          <h3 class="text-lg font-semibold text-gray-800 mb-2">Are you sure?</h3>
          <p class="text-sm text-gray-600 mb-4">
            This will close the form and discard any unsaved changes.
          </p>
          <div class="flex justify-end gap-3">
            <button 
              class="px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400"
              (click)="cancelClose()">
              Cancel
            </button>
            <button 
              class="px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700"
              (click)="confirmClose()">
              Yes, Close
            </button>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>
